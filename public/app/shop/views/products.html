
<div ng-show="products.length == 0" >
	<p class="no-products" >
		{{'products.search.noproducts' | translate}} <b>{{searchQuery}}</b>
	</p>

</div>

<div ng-show="$state.includes('shop.products')" class="hidden-md hidden-lg">
	
	<div class="row">

		<div class="col-xs-6 col-md-3 mini-block" bindonce="category" ng-repeat="category in categories" ui-sref="shop.productsbycategory({category: category.slug})" >
			<div imt-src="category.image" imt-size="w=400"></div>
			<div class="category-label" bo-text="category.title"></div>
		</div>

	</div>

</div>



<div class="col-sm-offset-4 sort-region" >
							
	<div class="btn-group btn-group-xs sort-trigger" >
		<a href="" dropdown-toggle > <i class="fa fa-caret-down"></i>  sort by <span class="sorted-by" >{{ orderLabels[currentOrder.field] | translate }} | {{ (currentOrder.asc ? 'productnavigator.order.ascending' : 'productnavigator.order.descending') | translate }}</span> </a>

		<ul class="dropdown-menu">
			<li ng-class="{'active': currentOrder == order }" ng-repeat=" order in orders" >				
				<a ng-click="doSort(order)" >						
				  <i class="fa fa-angle-{{  order.asc ? 'down' : 'up' }}"></i>	<span class="order-field">{{ orderLabels[order.field] | translate }}</span> <span class="order-way">| {{ (order.asc ? 'productnavigator.order.ascending' : 'productnavigator.order.descending') | translate }}</span>				   			
				</a>
			</li>					
		</ul>
	</div>

	&nbsp;&nbsp; <a ng-if="isRole('admin') && $state.includes('shop.products')" ui-sref="shop.createproduct" class="btn btn-imt-dimmed">New Product</a>

</div>	

<div infinite-scroll="doPaging()" infinite-scroll-distance="2" infinite-scroll-disabled="loading" class="product-navigator row"  ng-show="products.length > 0">
	
	<div bindonce class="slide product-title col-lg-3 col-sm-4 col-xs-6" ng-repeat="product in products" ng-class="{ 'in-cart': quantities[product._id][product.designs[0]._id] > 0, 'hover': hover == product }" >
		
			<div class="thumbnail" >

				<div class="caption" >

					<div class="top-info" >
						<h4  ><a  ng-click="goToProduct(product)" bo-text="product.title" ></a></h4>
						<p>
							<!-- <span class="ref">{{ product.identifier }}</span> |  -->
							<span class="price" bo-text="product.price | currency:'$'" ></span>	
							<span bo-show="isRole('admin')">
							
							| <a  ng-click="goToProduct(product, 'shop.editproduct')" translate>productnavigator.product.edit</a>

							</span>

						</p>
							<div class="image-wrapper" >
								<a ng-click="goToProduct(product)" >									
									<div imt-src="product.designs[0].image" imt-size="s=300" ng-class="{ 'visible': focusedDesign == null }" ></div>								
								</a>	
							</div>
					
					</div>

					

				</div>

			</div>
		

	</div>
</div>


