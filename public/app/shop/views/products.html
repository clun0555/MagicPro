
<div class="product-navigator thumnails">
	
	<div class="slide product-title col-md-3 {{ 'product_' + product._id }}" ng-repeat="product in products" ng-class="{ 'in-cart': quantities[product._id][product.designs[0]._id] > 0, 'hover': hover == product }"  imt-click-out="unActivateProduct(product)" >
		
			<div class="thumbnail" >

				<div class="caption" >

					<div class="top-info" >
						<h4  ><a ui-sref="shop.product({ category: product.type.category.slug, type: product.type.slug, product: product.slug})" >{{product.title}}</a></h4>
						<p>
							<span class="ref">{{ product.identifier }}</span> | 
							<span class="price">{{ product.price | currency:'$' }}</span>	
							<span ng-show="isRole('admin')">
							
							| <a ui-sref="shop.editproduct({ category: product.type.category.slug, type: product.type.slug, product: product.slug})" ng-if="isRole('admin') && isUserValidated()" translate>productnavigator.product.edit</a>

							</span>


						</p>
					
					
							<div class="image-wrapper" >
								<a ui-sref="shop.product({ category: product.type.category.slug, type: product.type.slug, product: product.slug})" >
									
									<div imt-src="product.image" imt-size="s=200" ng-class="{ 'visible': focusedDesign == null }" ></div>
									
									<div imt-src="design.image || product.image" imt-size="s=200" ng-repeat="design in product.designs" ng-class="{ 'visible': focusedDesign == design }" ></div>
								</a>	

							</div>
					<!-- </div> -->
					</div>

					<div class="bottom-info" ng-click="activateProductClick(product)">
						
						<div class="cart-info" ng-class="{'visible' : (hover == product && product.designs.length > 1)}"  >

							<div class="anim-wrapper">
								<div ng-repeat="(index, design) in product.designs" class="input-group design" ng-class="{ 'active-design': focusedDesign == design }">
								  <span class="input-group-addon design-label" ng-click="focusDesign(design, $parent)"> {{ design.label }} </span>
								  <input  type="number" ng-change="updateQuantity(product, design)" ng-model="quantities[product._id][design._id]" ng-focus="focusDesign(design, $parent)" ng-blur="blurDesign($parent)" placeholder="0" class="form-control hide-placeholder-onblur design_quantity_{{index}}" >
								  <span class="input-group-addon inner"> &times; {{product.inner}}</span>
								</div>
							</div>
						</div>
						
						<div class="cart-simple-info multiple-design" ng-show="product.designs.length > 1">								
							 <i class="icon icon-cart"></i> 
							 <span class="quantity ">								
								<span class="readable-quantity">{{ cart.getBundle(product._id).quantity() || 0 }}</span>
							 </span>
							 
							<span class="inner">
								&times; {{product.inner}}		
							</span>	

						</div>

						<div class="cart-simple-info single-design"  ng-show="product.designs.length == 1" >
							 <i class="icon icon-cart"></i> 
							 <span class="quantity">
							  	<span ng-show="hover != product" class="readable-quantity">{{quantities[product._id][product.designs[0]._id] || 0}} </span>
								<span ng-show="hover == product" class="writable-quantity"><input  type="number" ng-change="updateQuantity(product, product.designs[0])" ng-model="quantities[product._id][product.designs[0]._id]" placeholder="0" class="form-control hide-placeholder-onblur design_quantity_0" ></span>
							 </span>
							 
							<span class="inner" >
								&times; {{product.inner}}	
							</span>	
						</div>

					</div>

				</div>

			</div>
		

	</div>

	<div class="slide product-title col-md-3 create-product" ng-show="isRole('admin') && $state.includes('shop.products')" >
		<div class="thumbnail" >
		<div class="caption">
			<div class="top-info">
				<!-- <h1>New Product</h1> -->
				<div class="image-wrapper" >
					<button class="btn btn-success" ui-sref="shop.createproduct" ><i class="fa fa-plus"></i> New product</button>
				</div>
				
			</div>

		</div>
		</div>

	</div>

</div>


